{"name":"AMMLib.Transaction.Swap.Networth","instances":[],"imports":["Init","AMMLib.Transaction.Swap.Basic","AMMLib.Transaction.Swap.Rate","AMMLib.State.Networth","HelpersLib.PReal.Subtraction"],"declarations":[{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L121-L129","name":"Swap.swappedtoks","line":121,"kind":"def","docLink":"./AMMLib/Transaction/Swap/Networth.html#Swap.swappedtoks","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#Swap.swappedtoks\"><span class=\"name\">Swap</span>.<span class=\"name\">swappedtoks</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">v0</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">v0</span></span>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">henough</span> : <span class=\"fn\">↑<span class=\"fn\">x</span></span> <a href=\"./Init/Prelude.html#LE.le\">≤</a> <span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.atoms\">atoms</a></span>.<a href=\"./AMMLib/State/AtomicWallSet.html#S₀.get\">get</a></span> <span class=\"fn\">a</span>)</span> <span class=\"fn\">t1</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">nodrain</span> : <span class=\"fn\">x</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><span class=\"fn\">sx</span> <span class=\"fn\">x</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t1</span> <span class=\"fn\">t0</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t1</span> <span class=\"fn\">t0</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t1</span> <span class=\"fn\">t0</span> <span class=\"fn\">⋯</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t1</span> <span class=\"fn\">t0</span> <span class=\"fn\">x</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L111-L119","name":"Swap.swaprate_vs_exchrate_gt","line":111,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#Swap.swaprate_vs_exchrate_gt","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#Swap.swaprate_vs_exchrate_gt\"><span class=\"name\">Swap</span>.<span class=\"name\">swaprate_vs_exchrate_gt</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">v0</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">v0</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hzero</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.get\">get</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">0</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span> <a href=\"./Init/Core.html#Iff\">↔</a> <span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t0</span></span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> <span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.rate\">rate</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L101-L109","name":"Swap.swaprate_vs_exchrate_lt","line":101,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#Swap.swaprate_vs_exchrate_lt","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#Swap.swaprate_vs_exchrate_lt\"><span class=\"name\">Swap</span>.<span class=\"name\">swaprate_vs_exchrate_lt</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">v0</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">v0</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hzero</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.get\">get</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">0</span> <a href=\"./Init/Core.html#Iff\">↔</a> <span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.rate\">rate</a></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t0</span></span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> <span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t1</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L86-L99","name":"Swap.swaprate_vs_exchrate","line":86,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#Swap.swaprate_vs_exchrate","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#Swap.swaprate_vs_exchrate\"><span class=\"name\">Swap</span>.<span class=\"name\">swaprate_vs_exchrate</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hzero</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.get\">get</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Mathlib/Data/Ordering/Basic.html#cmp\">cmp</a> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>)</span> <span class=\"fn\">0</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\"><a href=\"./Mathlib/Data/Ordering/Basic.html#cmp\">cmp</a> <span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.rate\">rate</a></span> (<span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t0</span></span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> <span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t1</span></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L55-L84","name":"Swap.self_gain_eq","line":55,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#Swap.self_gain_eq","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#Swap.self_gain_eq\"><span class=\"name\">Swap</span>.<span class=\"name\">self_gain_eq</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> (<span class=\"fn\">↑<span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.y\">y</a></span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\">o</span> <span class=\"fn\">t1</span>)</span></span> <a href=\"./Init/Prelude.html#HSub.hSub\">-</a> <span class=\"fn\">↑<span class=\"fn\">x</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\">o</span> <span class=\"fn\">t0</span>)</span></span>) <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> (<span class=\"fn\">1</span> <a href=\"./Init/Prelude.html#HSub.hSub\">-</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.get\">get</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span>)</span></span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.supply\">supply</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span>)</span></span>)</div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L52-L53","name":"expandprice","line":52,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#expandprice","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#expandprice\"><span class=\"name\">expandprice</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">init</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.init\">init</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/Networth.html#Γ.mintedprice\">mintedprice</a></span> <span class=\"fn\">o</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> (<span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">init</span>)</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\">o</span> <span class=\"fn\">t0</span>)</span></span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">init</span>)</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\">o</span> <span class=\"fn\">t1</span>)</span></span>) <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.supply\">supply</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L31-L50","name":"Swap.worth_wallet_without_minted","line":31,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#Swap.worth_wallet_without_minted","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#Swap.worth_wallet_without_minted\"><span class=\"name\">Swap</span>.<span class=\"name\">worth_wallet_without_minted</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">v0</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">v0</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">w</span> : <a href=\"./AMMLib/State/MintedWall.html#W₁\">W₁</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">w</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.get\">get</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">w</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.worth\">worth</a></span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/Networth.html#Γ.mintedprice\">mintedprice</a></span> <span class=\"fn\">o</span>)</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">w</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.worth\">worth</a></span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/Networth.html#Γ.mintedprice\">mintedprice</a></span> <span class=\"fn\">o</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L23-L28","name":"Swap.atoms_drain_drain_worth","line":23,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#Swap.atoms_drain_drain_worth","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#Swap.atoms_drain_drain_worth\"><span class=\"name\">Swap</span>.<span class=\"name\">atoms_drain_drain_worth</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">v0</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">v0</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.atoms\">atoms</a></span>.<a href=\"./AMMLib/State/AtomicWallSet.html#S₀.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/AtomicWall.html#W₀.drain\">drain</a></span> <span class=\"fn\">t0</span>)</span>.<a href=\"./AMMLib/State/AtomicWall.html#W₀.drain\">drain</a></span> <span class=\"fn\">t1</span>)</span>.<a href=\"./AMMLib/State/AtomicWall.html#W₀.worth\">worth</a></span> <span class=\"fn\">o</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.atoms\">atoms</a></span>.<a href=\"./AMMLib/State/AtomicWallSet.html#S₀.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/AtomicWall.html#W₀.drain\">drain</a></span> <span class=\"fn\">t0</span>)</span>.<a href=\"./AMMLib/State/AtomicWall.html#W₀.drain\">drain</a></span> <span class=\"fn\">t1</span>)</span>.<a href=\"./AMMLib/State/AtomicWall.html#W₀.worth\">worth</a></span> <span class=\"fn\">o</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L15-L20","name":"Swap.networth_erase","line":15,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#Swap.networth_erase","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#Swap.networth_erase\"><span class=\"name\">Swap</span>.<span class=\"name\">networth_erase</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">v0</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">v0</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.drain\">drain</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.drain\">drain</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/Transaction/Swap/Networth.lean#L7-L13","name":"swap_price_mint_diff","line":7,"kind":"theorem","docLink":"./AMMLib/Transaction/Swap/Networth.html#swap_price_mint_diff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/Transaction/Swap/Networth.html#swap_price_mint_diff\"><span class=\"name\">swap_price_mint_diff</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">sx</span> : <a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">v0</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">sx</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">v0</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">t0' </span><span class=\"fn\">t1'</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">init</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.init\">init</a></span> <span class=\"fn\">t0'</span> <span class=\"fn\">t1'</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hdif</span> : <span class=\"fn\"><a href=\"./AMMLib/State/Tokens.html#diffmint\">diffmint</a> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">t0'</span> <span class=\"fn\">t1'</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/Networth.html#Γ.mintedprice\">mintedprice</a></span> <span class=\"fn\">o</span> <span class=\"fn\">t0'</span> <span class=\"fn\">t1'</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/Networth.html#Γ.mintedprice\">mintedprice</a></span> <span class=\"fn\">o</span> <span class=\"fn\">t0'</span> <span class=\"fn\">t1'</span></span></div></div>"}]}