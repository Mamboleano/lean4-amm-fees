{"name":"Lean.CoreM","instances":[{"typeNames":["Lean.Core.Cache"],"name":"Lean.Core.instInhabitedCache","className":"Inhabited"},{"typeNames":["Lean.Core.State"],"name":"Lean.Core.instNonemptyState","className":"Nonempty"},{"typeNames":["Lean.Core.Context"],"name":"Lean.Core.instNonemptyContext","className":"Nonempty"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadCoreM","className":"Monad"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instInhabitedCoreM","className":"Inhabited"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadRefCoreM","className":"Lean.MonadRef"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadEnvCoreM","className":"Lean.MonadEnv"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadOptionsCoreM","className":"Lean.MonadOptions"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadWithOptionsCoreM","className":"Lean.MonadWithOptions"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instAddMessageContextCoreM","className":"Lean.AddMessageContext"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadNameGeneratorCoreM","className":"Lean.MonadNameGenerator"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadRecDepthCoreM","className":"Lean.MonadRecDepth"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadResolveNameCoreM","className":"Lean.MonadResolveName"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadQuotationCoreM","className":"Lean.MonadQuotation"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadInfoTreeCoreM","className":"Lean.Elab.MonadInfoTree"},{"typeNames":["IO","Lean.Core.CoreM"],"name":"Lean.Core.instMonadLiftIOCoreM","className":"MonadLift"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadTraceCoreM","className":"Lean.MonadTrace"},{"typeNames":["Lean.Core.SavedState"],"name":"Lean.Core.instNonemptySavedState","className":"Nonempty"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.Core.instMonadLogCoreM","className":"Lean.MonadLog"},{"typeNames":["Lean.Exception","Lean.Core.CoreM"],"name":"Lean.instMonadExceptOfExceptionCoreM","className":"MonadExceptOf"},{"typeNames":["Lean.Core.CoreM"],"name":"Lean.instMonadRuntimeExceptionCoreM","className":"Lean.MonadRuntimeException"},{"typeNames":["ReaderT"],"name":"Lean.instMonadRuntimeExceptionReaderT","className":"Lean.MonadRuntimeException"},{"typeNames":["StateRefT'"],"name":"Lean.instMonadRuntimeExceptionStateRefT'","className":"Lean.MonadRuntimeException"}],"imports":["Lean.Util.RecDepth","Lean.Util.Trace","Lean.Log","Lean.ResolveName","Lean.Elab.InfoTree.Types","Lean.MonadEnv","Lean.Elab.Exception","Lean.Language.Basic"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L658-L661","name":"Lean.enableRealizationsForConst","line":658,"kind":"def","docLink":"./Lean/CoreM.html#Lean.enableRealizationsForConst","doc":"Allows `realizeConst` calls for the given declaration in all derived environment branches.\nRealizations will run using the given environment and options to ensure deterministic results. Note\nthat while we check that the function isn't called too *early*, i.e. before the declaration is\nactually added to the environment, we cannot automatically check that it isn't called too *late*,\ni.e. before all environment extensions that may be relevant to realizations have been set. We do\ncheck that we are not calling it from a different branch than `c` was added on, which would be\ndefinitely too late.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.enableRealizationsForConst\"><span class=\"name\">Lean</span>.<span class=\"name\">enableRealizationsForConst</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L646-L656","name":"Lean.logMessageKind","line":646,"kind":"def","docLink":"./Lean/CoreM.html#Lean.logMessageKind","doc":"Returns `true` if the given message kind has not been reported in the message log,\nand then mark it as logged. Otherwise, returns `false`.\nWe use this API to ensure we don't log the same kind of warning multiple times.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.logMessageKind\"><span class=\"name\">Lean</span>.<span class=\"name\">logMessageKind</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">kind</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L643-L644","name":"Lean.mapCoreM","line":643,"kind":"def","docLink":"./Lean/CoreM.html#Lean.mapCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.mapCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">mapCoreM</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a> u_1</span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Control/Basic.html#MonadControlT\">MonadControlT</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">f</span> : <span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>} → <span class=\"fn\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span> → <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span></span></span>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L640-L641","name":"Lean.instMonadRuntimeExceptionStateRefT'","line":640,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.instMonadRuntimeExceptionStateRefT'","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.instMonadRuntimeExceptionStateRefT'\"><span class=\"name\">Lean</span>.<span class=\"name\">instMonadRuntimeExceptionStateRefT'</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">ω </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.MonadRuntimeException\">MonadRuntimeException</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.MonadRuntimeException\">MonadRuntimeException</a> <span class=\"fn\">(<a href=\"./Init/Control/StateRef.html#StateRefT'\">StateRefT'</a> <span class=\"fn\">ω</span> <span class=\"fn\">σ</span> <span class=\"fn\">m</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L637-L638","name":"Lean.instMonadRuntimeExceptionReaderT","line":637,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.instMonadRuntimeExceptionReaderT","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.instMonadRuntimeExceptionReaderT\"><span class=\"name\">Lean</span>.<span class=\"name\">instMonadRuntimeExceptionReaderT</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">ρ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.MonadRuntimeException\">MonadRuntimeException</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.MonadRuntimeException\">MonadRuntimeException</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#ReaderT\">ReaderT</a> <span class=\"fn\">ρ</span> <span class=\"fn\">m</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L634-L635","name":"Lean.instMonadRuntimeExceptionCoreM","line":634,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.instMonadRuntimeExceptionCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.instMonadRuntimeExceptionCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">instMonadRuntimeExceptionCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.MonadRuntimeException\">MonadRuntimeException</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L630-L630","name":"Lean.MonadRuntimeException.tryCatchRuntimeEx","line":630,"kind":"def","docLink":"./Lean/CoreM.html#Lean.MonadRuntimeException.tryCatchRuntimeEx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.MonadRuntimeException.tryCatchRuntimeEx\"><span class=\"name\">Lean</span>.<span class=\"name\">MonadRuntimeException</span>.<span class=\"name\">tryCatchRuntimeEx</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.MonadRuntimeException\">MonadRuntimeException</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">body</span> : <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">handler</span> : <span class=\"fn\"><a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> → <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L629-L629","name":"Lean.MonadRuntimeException.mk","line":629,"kind":"ctor","docLink":"./Lean/CoreM.html#Lean.MonadRuntimeException.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.MonadRuntimeException.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">MonadRuntimeException</span>.<span class=\"name\">mk</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">tryCatchRuntimeEx</span> : <span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>} → <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span> → <span class=\"fn\"><span class=\"fn\">(<a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> → <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span> → <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></span></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.MonadRuntimeException\">MonadRuntimeException</a> <span class=\"fn\">m</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L629-L630","name":"Lean.MonadRuntimeException","line":629,"kind":"class","docLink":"./Lean/CoreM.html#Lean.MonadRuntimeException","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">class</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.MonadRuntimeException\"><span class=\"name\">Lean</span>.<span class=\"name\">MonadRuntimeException</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a> 1</div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L625-L627","name":"Lean.instMonadExceptOfExceptionCoreM","line":625,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.instMonadExceptOfExceptionCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.instMonadExceptOfExceptionCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">instMonadExceptOfExceptionCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#MonadExceptOf\">MonadExceptOf</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L612-L623","name":"Lean.Core.tryCatchRuntimeEx","line":612,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.tryCatchRuntimeEx","doc":"A variant of `tryCatch` that also catches runtime exception (see also `tryCatch` documentation).\nLike `tryCatch`, this function does not catch interrupt exceptions, which are not considered runtime\nexceptions.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.tryCatchRuntimeEx\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">tryCatchRuntimeEx</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\"><a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> → <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L597-L610","name":"Lean.Core.tryCatch","line":597,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.tryCatch","doc":"Custom `try-catch` for all monads based on `CoreM`. We usually don't want to catch \"runtime\nexceptions\" these monads, but on `CommandElabM` or, in specific cases, using `tryCatchRuntimeEx`.\nSee issues #2775 and #2744 as well as `MonadAlwaysExcept`. Also, we never want to catch interrupt\nexceptions inside the elaborator.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.tryCatch\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">tryCatch</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\"><a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> → <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L593-L595","name":"Lean.Exception.isRuntime","line":593,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Exception.isRuntime","doc":"Return `true` if the exception was generated by one of our resource limits. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Exception.isRuntime\"><span class=\"name\">Lean</span>.<span class=\"name\">Exception</span>.<span class=\"name\">isRuntime</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ex</span> : <a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L588-L591","name":"Lean.ImportM.runCoreM","line":588,"kind":"def","docLink":"./Lean/CoreM.html#Lean.ImportM.runCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.ImportM.runCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportM</span>.<span class=\"name\">runCoreM</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.ImportM\">ImportM</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L584-L586","name":"Lean.isDiagnosticsEnabled","line":584,"kind":"def","docLink":"./Lean/CoreM.html#Lean.isDiagnosticsEnabled","doc":"Return `true` if diagnostic information collection is enabled. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.isDiagnosticsEnabled\"><span class=\"name\">Lean</span>.<span class=\"name\">isDiagnosticsEnabled</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L581-L582","name":"Lean.getDiag","line":581,"kind":"def","docLink":"./Lean/CoreM.html#Lean.getDiag","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.getDiag\"><span class=\"name\">Lean</span>.<span class=\"name\">getDiag</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L578-L579","name":"Lean.compileDecl","line":578,"kind":"def","docLink":"./Lean/CoreM.html#Lean.compileDecl","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.compileDecl\"><span class=\"name\">Lean</span>.<span class=\"name\">compileDecl</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decl</span> : <a href=\"./Lean/Declaration.html#Lean.Declaration\">Declaration</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">logErrors</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L556-L576","name":"Lean.compileDecls.doCompile","line":556,"kind":"def","docLink":"./Lean/CoreM.html#Lean.compileDecls.doCompile","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.compileDecls.doCompile\"><span class=\"name\">Lean</span>.<span class=\"name\">compileDecls</span>.<span class=\"name\">doCompile</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ref?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Declaration.html#Lean.Declaration\">Declaration</a></span> := <a href=\"./Init/Prelude.html#Option.none\">none</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">logErrors</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L536-L576","name":"Lean.compileDecls","line":536,"kind":"def","docLink":"./Lean/CoreM.html#Lean.compileDecls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.compileDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">compileDecls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ref?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Declaration.html#Lean.Declaration\">Declaration</a></span> := <a href=\"./Init/Prelude.html#Option.none\">none</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">logErrors</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L532-L533","name":"Lean.compileDeclsOld","line":532,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.compileDeclsOld","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.compileDeclsOld\"><span class=\"name\">Lean</span>.<span class=\"name\">compileDeclsOld</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opt</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Kernel.Exception</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L529-L530","name":"Lean.compileDeclsNew","line":529,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.compileDeclsNew","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.compileDeclsNew\"><span class=\"name\">Lean</span>.<span class=\"name\">compileDeclsNew</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declNames</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L522-L526","name":"Lean.compiler.enableNew","line":522,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.compiler.enableNew","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.compiler.enableNew\"><span class=\"name\">Lean</span>.<span class=\"name\">compiler</span>.<span class=\"name\">enableNew</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L502-L503","name":"Lean.mkArrowN","line":502,"kind":"def","docLink":"./Lean/CoreM.html#Lean.mkArrowN","doc":"Iterated `mkArrow`, creates the expression `a₁ → a₂ → … → aₙ → b`. Also see `arrowDomainsN`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.mkArrowN\"><span class=\"name\">Lean</span>.<span class=\"name\">mkArrowN</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ds</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">e</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L498-L500","name":"Lean.mkArrow","line":498,"kind":"def","docLink":"./Lean/CoreM.html#Lean.mkArrow","doc":"Creates the expression `d → b` "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.mkArrow\"><span class=\"name\">Lean</span>.<span class=\"name\">mkArrow</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">d </span><span class=\"fn\">b</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L491-L496","name":"Lean.Exception.isMaxHeartbeat","line":491,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Exception.isMaxHeartbeat","doc":"Return true if `ex` was generated by `throwMaxHeartbeat`.\nThis function is a bit hackish. The heartbeat exception should probably be an internal exception.\nWe used a similar hack at `Exception.isMaxRecDepth` "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Exception.isMaxHeartbeat\"><span class=\"name\">Lean</span>.<span class=\"name\">Exception</span>.<span class=\"name\">isMaxHeartbeat</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ex</span> : <a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L484-L489","name":"Lean.catchInternalIds","line":484,"kind":"def","docLink":"./Lean/CoreM.html#Lean.catchInternalIds","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.catchInternalIds\"><span class=\"name\">Lean</span>.<span class=\"name\">catchInternalIds</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> u_1 → <a href=\"./foundational_types.html\">Type</a> u_2</span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a> u_1}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#MonadExcept\">MonadExcept</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ids</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/InternalExceptionId.html#Lean.InternalExceptionId\">InternalExceptionId</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\"><a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> → <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L477-L482","name":"Lean.catchInternalId","line":477,"kind":"def","docLink":"./Lean/CoreM.html#Lean.catchInternalId","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.catchInternalId\"><span class=\"name\">Lean</span>.<span class=\"name\">catchInternalId</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> u_1 → <a href=\"./foundational_types.html\">Type</a> u_2</span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a> u_1}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#MonadExcept\">MonadExcept</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">id</span> : <a href=\"./Lean/InternalExceptionId.html#Lean.InternalExceptionId\">InternalExceptionId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\"><a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> → <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L474-L475","name":"Lean.withAtLeastMaxRecDepth","line":474,"kind":"def","docLink":"./Lean/CoreM.html#Lean.withAtLeastMaxRecDepth","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.withAtLeastMaxRecDepth\"><span class=\"name\">Lean</span>.<span class=\"name\">withAtLeastMaxRecDepth</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a> u_1</span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#MonadFunctorT\">MonadFunctorT</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">max</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span> → <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L437-L468","name":"Lean.Core.wrapAsyncAsSnapshot","line":437,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.wrapAsyncAsSnapshot","doc":"Wraps the given action for use in `BaseIO.asTask` etc., discarding its final state except for\n`logSnapshotTask` tasks, which are reported as part of the returned tree. The given cancellation\ntoken, if any, should be stored in a `SnapshotTask` for the server to trigger it when the result is\nno longer needed.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.wrapAsyncAsSnapshot\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">wrapAsyncAsSnapshot</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">act</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Unit\">Unit</a> → <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cancelTk?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/System/IO.html#IO.CancelToken\">IO.CancelToken</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">desc</span> : <a href=\"./Init/Prelude.html#String\">String</a> := by exact decl_name%.toString)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">(<a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Lean/Language/Basic.html#Lean.Language.SnapshotTree\">Language.SnapshotTree</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L416-L434","name":"Lean.Core.mkSnapshot","line":416,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.mkSnapshot","doc":"Creates snapshot reporting given `withIsolatedStreams` output and diagnostics and traces from the\ngiven state.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.mkSnapshot\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">mkSnapshot</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">output</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ctx</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">st</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">desc</span> : <a href=\"./Init/Prelude.html#String\">String</a> := by exact decl_name%.toString)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Lean/Language/Basic.html#Lean.Language.SnapshotTree\">Language.SnapshotTree</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L409-L414","name":"Lean.Core.stderrAsMessages","line":409,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.Core.stderrAsMessages","doc":"Option for capturing output to stderr during elaboration. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.stderrAsMessages\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">stderrAsMessages</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L395-L407","name":"Lean.Core.wrapAsync","line":395,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.wrapAsync","doc":"Wraps the given action for use in `EIO.asTask` etc., discarding its final monadic state. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.wrapAsync\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">wrapAsync</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">act</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Unit\">Unit</a> → <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cancelTk?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/System/IO.html#IO.CancelToken\">IO.CancelToken</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">(<a href=\"./Init/System/IO.html#EIO\">EIO</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> <span class=\"fn\">α</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L384-L393","name":"Lean.Core.logSnapshotTask","line":384,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.logSnapshotTask","doc":"Includes a given task (such as from `wrapAsyncAsSnapshot`) in the overall snapshot tree for this\ncommand's elaboration, making its result available to reporting and the language server. The\nreporter will not know about this snapshot tree node until the main elaboration thread for this\ncommand has finished so this function is not useful for incremental reporting within a longer\nelaboration thread but only for tasks that outlive it such as background kernel checking or proof\nelaboration.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.logSnapshotTask\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">logSnapshotTask</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">task</span> : <span class=\"fn\"><a href=\"./Lean/Language/Basic.html#Lean.Language.SnapshotTask\">Language.SnapshotTask</a> <a href=\"./Lean/Language/Basic.html#Lean.Language.SnapshotTree\">Language.SnapshotTree</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L368-L382","name":"Lean.Core.instMonadLogCoreM","line":368,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadLogCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadLogCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadLogCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Log.html#Lean.MonadLog\">MonadLog</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L361-L366","name":"Lean.Core.getAndEmptyMessageLog","line":361,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.getAndEmptyMessageLog","doc":"Returns the current log and then resets its messages while adjusting `MessageLog.hadErrors`. Used\nfor incremental reporting during elaboration of a single command.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.getAndEmptyMessageLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">getAndEmptyMessageLog</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Lean/Message.html#Lean.MessageLog\">MessageLog</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L358-L359","name":"Lean.Core.getMessageLog","line":358,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.getMessageLog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.getMessageLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">getMessageLog</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Lean/Message.html#Lean.MessageLog\">MessageLog</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L355-L356","name":"Lean.Core.resetMessageLog","line":355,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.resetMessageLog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.resetMessageLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">resetMessageLog</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L352-L353","name":"Lean.Core.setMessageLog","line":352,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.setMessageLog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.setMessageLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">setMessageLog</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">messages</span> : <a href=\"./Lean/Message.html#Lean.MessageLog\">MessageLog</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L349-L350","name":"Lean.Core.withCurrHeartbeats","line":349,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.withCurrHeartbeats","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.withCurrHeartbeats\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">withCurrHeartbeats</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a> u_1</span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Control/Basic.html#MonadControlT\">MonadControlT</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L340-L343","name":"Lean.Core.checkSystem","line":340,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.checkSystem","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.checkSystem\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">checkSystem</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">moduleName</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L337-L338","name":"Lean.Core.checkMaxHeartbeats","line":337,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.checkMaxHeartbeats","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.checkMaxHeartbeats\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">checkMaxHeartbeats</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">moduleName</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L331-L335","name":"Lean.Core.checkMaxHeartbeatsCore","line":331,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.checkMaxHeartbeatsCore","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.checkMaxHeartbeatsCore\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">checkMaxHeartbeatsCore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">moduleName</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">optionName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">max</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L323-L329","name":"Lean.Core.throwMaxHeartbeat","line":323,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.throwMaxHeartbeat","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.throwMaxHeartbeat\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">throwMaxHeartbeat</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">moduleName </span><span class=\"fn\">optionName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">max</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L317-L321","name":"Lean.Core.debug.moduleNameAtTimeout","line":317,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.Core.debug.moduleNameAtTimeout","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.debug.moduleNameAtTimeout\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">debug</span>.<span class=\"name\">moduleNameAtTimeout</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L306-L315","name":"Lean.Core.checkInterrupted","line":306,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.checkInterrupted","doc":"Throws an internal interrupt exception if cancellation has been requested. The exception is not\ncaught by `try catch` but is intended to be caught by `Command.withLoggingExceptions` at the top\nlevel of elaboration. In particular, we want to skip producing further incremental snapshots after\nthe exception has been thrown.\n "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.checkInterrupted\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">checkInterrupted</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L303-L304","name":"Lean.Core.withIncRecDepth","line":303,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.withIncRecDepth","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.withIncRecDepth\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">withIncRecDepth</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a> u_1</span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Control/Basic.html#MonadControlT\">MonadControlT</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L296-L300","name":"Lean.Core.CoreM.toIO","line":296,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.CoreM.toIO","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.CoreM.toIO\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">CoreM</span>.<span class=\"name\">toIO</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ctx</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> (<span class=\"fn\">α</span> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L293-L294","name":"Lean.Core.CoreM.run'","line":293,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.CoreM.run'","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.CoreM.run'\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">CoreM</span>.<span class=\"name\">run'</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ctx</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#EIO\">EIO</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L290-L291","name":"Lean.Core.CoreM.run","line":290,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.CoreM.run","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.CoreM.run\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">CoreM</span>.<span class=\"name\">run</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ctx</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#EIO\">EIO</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Exception</a> (<span class=\"fn\">α</span> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L287-L288","name":"Lean.Core.mkFreshUserName","line":287,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.mkFreshUserName","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.mkFreshUserName\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">mkFreshUserName</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L279-L281","name":"Lean.Core.SavedState.restore","line":279,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.SavedState.restore","doc":"Restore backtrackable parts of the state. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.SavedState.restore\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">SavedState</span>.<span class=\"name\">restore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">b</span> : <a href=\"./Lean/CoreM.html#Lean.Core.SavedState\">SavedState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L252-L277","name":"Lean.Core.withRestoreOrSaveFull","line":252,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.withRestoreOrSaveFull","doc":"Incremental reuse primitive: if `reusableResult?` is `none`, runs `act` and returns its result\ntogether with the saved monadic state after `act` including the heartbeats used by it. If\n`reusableResult?` on the other hand is `some (a, state)`, restores full `state` including heartbeats\nused and returns `(a, state)`.\n\nThe intention is for steps that support incremental reuse to initially pass `none` as\n`reusableResult?` and store the result and state in a snapshot. In a further run, if reuse is\npossible, `reusableResult?` should be set to the previous result and state, ensuring that the state\nafter running `withRestoreOrSaveFull` is identical in both runs. Note however that necessarily this\nis only an approximation in the case of heartbeats as heartbeats used by `withRestoreOrSaveFull`\nitself after calling `act` as well as by reuse-handling code such as the one supplying\n`reusableResult?` are not accounted for.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.withRestoreOrSaveFull\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">withRestoreOrSaveFull</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">reusableResult?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> (<span class=\"fn\">α</span> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/CoreM.html#Lean.Core.SavedState\">SavedState</a>)</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">act</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> (<span class=\"fn\">α</span> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/CoreM.html#Lean.Core.SavedState\">SavedState</a>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L248-L250","name":"Lean.Core.saveState","line":248,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.saveState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.saveState\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">saveState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Lean/CoreM.html#Lean.Core.SavedState\">SavedState</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L246-L246","name":"Lean.Core.instNonemptySavedState","line":246,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instNonemptySavedState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instNonemptySavedState\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instNonemptySavedState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/CoreM.html#Lean.Core.SavedState\">SavedState</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L245-L245","name":"Lean.Core.SavedState.passedHeartbeats","line":245,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.SavedState.passedHeartbeats","doc":"Number of heartbeats passed inside `withRestoreOrSaveFull`, not used otherwise. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.SavedState.passedHeartbeats\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">SavedState</span>.<span class=\"name\">passedHeartbeats</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.SavedState\">SavedState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L243-L243","name":"Lean.Core.SavedState.mk","line":243,"kind":"ctor","docLink":"./Lean/CoreM.html#Lean.Core.SavedState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.SavedState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">SavedState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">toState</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">passedHeartbeats</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/CoreM.html#Lean.Core.SavedState\">SavedState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L243-L246","name":"Lean.Core.SavedState.toState","line":243,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.SavedState.toState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.SavedState.toState\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">SavedState</span>.<span class=\"name\">toState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.SavedState\">SavedState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L243-L246","name":"Lean.Core.SavedState","line":243,"kind":"structure","docLink":"./Lean/CoreM.html#Lean.Core.SavedState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.SavedState\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">SavedState</span></a></span><span class=\"decl_extends\">extends</span> <a href=\"./Lean/CoreM.html#Lean.Core.State\">Lean.Core.State</a><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L239-L241","name":"Lean.Core.instMonadTraceCoreM","line":239,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadTraceCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadTraceCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadTraceCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Util/Trace.html#Lean.MonadTrace\">MonadTrace</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L236-L237","name":"Lean.Core.instMonadLiftIOCoreM","line":236,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadLiftIOCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadLiftIOCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadLiftIOCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#MonadLift\">MonadLift</a> <a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L232-L234","name":"Lean.Core.liftIOCore","line":232,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.liftIOCore","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.liftIOCore\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">liftIOCore</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L222-L230","name":"Lean.Core.instantiateValueLevelParams","line":222,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.instantiateValueLevelParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instantiateValueLevelParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instantiateValueLevelParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">us</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Level.html#Lean.Level\">Level</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L214-L220","name":"Lean.Core.instantiateTypeLevelParams","line":214,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.instantiateTypeLevelParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instantiateTypeLevelParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instantiateTypeLevelParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">us</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Level.html#Lean.Level\">Level</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L211-L212","name":"Lean.Core.modifyInstLevelValueCache","line":211,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.modifyInstLevelValueCache","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.modifyInstLevelValueCache\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">modifyInstLevelValueCache</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">f</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache\">InstantiateLevelCache</a> → <a href=\"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache\">InstantiateLevelCache</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L208-L209","name":"Lean.Core.modifyInstLevelTypeCache","line":208,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.modifyInstLevelTypeCache","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.modifyInstLevelTypeCache\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">modifyInstLevelTypeCache</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">f</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache\">InstantiateLevelCache</a> → <a href=\"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache\">InstantiateLevelCache</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L204-L206","name":"Lean.Core.modifyCache","line":204,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.modifyCache","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.modifyCache\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">modifyCache</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">f</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.Cache\">Cache</a> → <a href=\"./Lean/CoreM.html#Lean.Core.Cache\">Cache</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L200-L202","name":"Lean.Core.instMonadInfoTreeCoreM","line":200,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadInfoTreeCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadInfoTreeCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadInfoTreeCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree\">Elab.MonadInfoTree</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L195-L198","name":"Lean.Core.instMonadQuotationCoreM","line":195,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadQuotationCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadQuotationCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadQuotationCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Lean.MonadQuotation\">MonadQuotation</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L191-L193","name":"Lean.Core.withFreshMacroScope","line":191,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.withFreshMacroScope","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.withFreshMacroScope\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">withFreshMacroScope</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L187-L189","name":"Lean.Core.instMonadResolveNameCoreM","line":187,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadResolveNameCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadResolveNameCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadResolveNameCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/ResolveName.html#Lean.MonadResolveName\">MonadResolveName</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L182-L185","name":"Lean.Core.instMonadRecDepthCoreM","line":182,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadRecDepthCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadRecDepthCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadRecDepthCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Exception.html#Lean.MonadRecDepth\">MonadRecDepth</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L178-L180","name":"Lean.Core.instMonadNameGeneratorCoreM","line":178,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadNameGeneratorCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadNameGeneratorCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadNameGeneratorCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Meta.html#Lean.MonadNameGenerator\">MonadNameGenerator</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L175-L176","name":"Lean.Core.instAddMessageContextCoreM","line":175,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instAddMessageContextCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instAddMessageContextCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instAddMessageContextCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Message.html#Lean.AddMessageContext\">AddMessageContext</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L157-L169","name":"Lean.Core.instMonadWithOptionsCoreM","line":157,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadWithOptionsCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadWithOptionsCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadWithOptionsCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.MonadWithOptions\">MonadWithOptions</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L154-L155","name":"Lean.Core.instMonadOptionsCoreM","line":154,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadOptionsCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadOptionsCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadOptionsCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.MonadOptions\">MonadOptions</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L150-L152","name":"Lean.Core.instMonadEnvCoreM","line":150,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadEnvCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadEnvCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadEnvCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L146-L148","name":"Lean.Core.instMonadRefCoreM","line":146,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadRefCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadRefCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadRefCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Lean.MonadRef\">MonadRef</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L143-L144","name":"Lean.Core.instInhabitedCoreM","line":143,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instInhabitedCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instInhabitedCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instInhabitedCoreM</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">(<a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a> <span class=\"fn\">α</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L140-L141","name":"Lean.Core.instMonadCoreM","line":140,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instMonadCoreM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instMonadCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instMonadCoreM</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">CoreM</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L128-L136","name":"Lean.Core.CoreM","line":128,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.CoreM","doc":"CoreM is a monad for manipulating the Lean environment.\nIt is the base monad for `MetaM`.\nThe main features it provides are:\n- name generator state\n- environment state\n- Lean options context\n- the current open namespace\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.CoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">CoreM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L126-L126","name":"Lean.Core.instNonemptyContext","line":126,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instNonemptyContext","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instNonemptyContext\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instNonemptyContext</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L125-L125","name":"Lean.Core.Context.suppressElabErrors","line":125,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.suppressElabErrors","doc":"If set (when `showPartialSyntaxErrors` is not set and parsing failed), suppresses most elaboration\nerrors; see also `logMessage` below.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.suppressElabErrors\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">suppressElabErrors</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L120-L120","name":"Lean.Core.Context.cancelTk?","line":120,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.cancelTk?","doc":"If set, used to cancel elaboration from outside when results are not needed anymore. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.cancelTk?\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">cancelTk?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/System/IO.html#IO.CancelToken\">IO.CancelToken</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L118-L118","name":"Lean.Core.Context.diag","line":118,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.diag","doc":"If `diag := true`, different parts of the system collect diagnostics.\nUse the `set_option diag true` to set it to true.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.diag\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">diag</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L113-L113","name":"Lean.Core.Context.currMacroScope","line":113,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.currMacroScope","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.currMacroScope\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">currMacroScope</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.MacroScope\">MacroScope</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L112-L112","name":"Lean.Core.Context.maxHeartbeats","line":112,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.maxHeartbeats","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.maxHeartbeats\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">maxHeartbeats</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L111-L111","name":"Lean.Core.Context.initHeartbeats","line":111,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.initHeartbeats","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.initHeartbeats\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">initHeartbeats</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L110-L110","name":"Lean.Core.Context.openDecls","line":110,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.openDecls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.openDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">openDecls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Data/OpenDecl.html#Lean.OpenDecl\">OpenDecl</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L109-L109","name":"Lean.Core.Context.currNamespace","line":109,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.currNamespace","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.currNamespace\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">currNamespace</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L108-L108","name":"Lean.Core.Context.ref","line":108,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.ref","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.ref\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">ref</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Syntax\">Syntax</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L107-L107","name":"Lean.Core.Context.maxRecDepth","line":107,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.maxRecDepth","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.maxRecDepth\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">maxRecDepth</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L106-L106","name":"Lean.Core.Context.currRecDepth","line":106,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.currRecDepth","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.currRecDepth\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">currRecDepth</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L105-L105","name":"Lean.Core.Context.options","line":105,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.options","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.options\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">options</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L104-L104","name":"Lean.Core.Context.fileMap","line":104,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.fileMap","doc":"Auxiliary datastructure for converting `String.Pos` into Line/Column number. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.fileMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">fileMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L102-L102","name":"Lean.Core.Context.fileName","line":102,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Context.fileName","doc":"Name of the file being compiled. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.fileName\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">fileName</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#String\">String</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L100-L100","name":"Lean.Core.Context.mk","line":100,"kind":"ctor","docLink":"./Lean/CoreM.html#Lean.Core.Context.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fileName</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fileMap</span> : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">options</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">currRecDepth </span><span class=\"fn\">maxRecDepth</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ref</span> : <a href=\"./Init/Prelude.html#Lean.Syntax\">Syntax</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">currNamespace</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">openDecls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Data/OpenDecl.html#Lean.OpenDecl\">OpenDecl</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">initHeartbeats </span><span class=\"fn\">maxHeartbeats</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">currMacroScope</span> : <a href=\"./Init/Prelude.html#Lean.MacroScope\">MacroScope</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">diag</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cancelTk?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/System/IO.html#IO.CancelToken\">IO.CancelToken</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">suppressElabErrors</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/CoreM.html#Lean.Core.Context\">Context</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L99-L126","name":"Lean.Core.Context","line":99,"kind":"structure","docLink":"./Lean/CoreM.html#Lean.Core.Context","doc":"Context for the CoreM monad. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Context\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Context</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L97-L97","name":"Lean.Core.instNonemptyState","line":97,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instNonemptyState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instNonemptyState\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instNonemptyState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L96-L96","name":"Lean.Core.State.snapshotTasks","line":96,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.State.snapshotTasks","doc":"Snapshot trees of asynchronous subtasks. As these are untyped and reported only at the end of the\ncommand's main elaboration thread, they are only useful for basic message log reporting; for\nincremental reporting and reuse within a long-running elaboration thread, types rooted in\n`CommandParsedSnapshot` need to be adjusted.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.snapshotTasks\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">snapshotTasks</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Lean/Language/Basic.html#Lean.Language.SnapshotTask\">Language.SnapshotTask</a> <a href=\"./Lean/Language/Basic.html#Lean.Language.SnapshotTree\">Language.SnapshotTree</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L89-L89","name":"Lean.Core.State.infoState","line":89,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.State.infoState","doc":"Info tree. We have the info tree here because we want to update it while adding attributes. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.infoState\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">infoState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoState\">Elab.InfoState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L87-L87","name":"Lean.Core.State.messages","line":87,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.State.messages","doc":"Message log. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.messages\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">messages</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Message.html#Lean.MessageLog\">MessageLog</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L85-L85","name":"Lean.Core.State.cache","line":85,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.State.cache","doc":"Cache for instantiating universe polymorphic declarations. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.cache\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">cache</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/CoreM.html#Lean.Core.Cache\">Cache</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L83-L83","name":"Lean.Core.State.traceState","line":83,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.State.traceState","doc":"Trace messages "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.traceState\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">traceState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Util/Trace.html#Lean.TraceState\">TraceState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L81-L81","name":"Lean.Core.State.ngen","line":81,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.State.ngen","doc":"Name generator for producing unique `FVarId`s, `MVarId`s, and `LMVarId`s "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.ngen\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">ngen</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/MetaTypes.html#Lean.NameGenerator\">NameGenerator</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L79-L79","name":"Lean.Core.State.nextMacroScope","line":79,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.State.nextMacroScope","doc":"Next macro scope. We use macro scopes to avoid accidental name capture. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.nextMacroScope\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">nextMacroScope</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.MacroScope\">MacroScope</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L77-L77","name":"Lean.Core.State.env","line":77,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.State.env","doc":"Current environment. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.env\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">env</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L75-L75","name":"Lean.Core.State.mk","line":75,"kind":"ctor","docLink":"./Lean/CoreM.html#Lean.Core.State.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">nextMacroScope</span> : <a href=\"./Init/Prelude.html#Lean.MacroScope\">MacroScope</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ngen</span> : <a href=\"./Init/MetaTypes.html#Lean.NameGenerator\">NameGenerator</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">traceState</span> : <a href=\"./Lean/Util/Trace.html#Lean.TraceState\">TraceState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cache</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Cache\">Cache</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">messages</span> : <a href=\"./Lean/Message.html#Lean.MessageLog\">MessageLog</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">infoState</span> : <a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoState\">Elab.InfoState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">snapshotTasks</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Lean/Language/Basic.html#Lean.Language.SnapshotTask\">Language.SnapshotTask</a> <a href=\"./Lean/Language/Basic.html#Lean.Language.SnapshotTree\">Language.SnapshotTree</a>)</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/CoreM.html#Lean.Core.State\">State</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L74-L97","name":"Lean.Core.State","line":74,"kind":"structure","docLink":"./Lean/CoreM.html#Lean.Core.State","doc":"State for the CoreM monad. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.State\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">State</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L72-L72","name":"Lean.Core.instInhabitedCache","line":72,"kind":"instance","docLink":"./Lean/CoreM.html#Lean.Core.instInhabitedCache","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.instInhabitedCache\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">instInhabitedCache</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/CoreM.html#Lean.Core.Cache\">Cache</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L71-L71","name":"Lean.Core.Cache.instLevelValue","line":71,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Cache.instLevelValue","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Cache.instLevelValue\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Cache</span>.<span class=\"name\">instLevelValue</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Cache\">Cache</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache\">InstantiateLevelCache</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L70-L70","name":"Lean.Core.Cache.instLevelType","line":70,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.Cache.instLevelType","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Cache.instLevelType\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Cache</span>.<span class=\"name\">instLevelType</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/CoreM.html#Lean.Core.Cache\">Cache</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache\">InstantiateLevelCache</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L69-L69","name":"Lean.Core.Cache.mk","line":69,"kind":"ctor","docLink":"./Lean/CoreM.html#Lean.Core.Cache.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Cache.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Cache</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">instLevelType </span><span class=\"fn\">instLevelValue</span> : <a href=\"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache\">InstantiateLevelCache</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/CoreM.html#Lean.Core.Cache\">Cache</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L68-L72","name":"Lean.Core.Cache","line":68,"kind":"structure","docLink":"./Lean/CoreM.html#Lean.Core.Cache","doc":"Cache for the `CoreM` monad "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.Cache\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">Cache</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L66-L66","name":"Lean.Core.InstantiateLevelCache","line":66,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.InstantiateLevelCache\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">InstantiateLevelCache</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L63-L64","name":"Lean.Core.getMaxHeartbeats","line":63,"kind":"def","docLink":"./Lean/CoreM.html#Lean.Core.getMaxHeartbeats","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Core.getMaxHeartbeats\"><span class=\"name\">Lean</span>.<span class=\"name\">Core</span>.<span class=\"name\">getMaxHeartbeats</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L47-L57","name":"Lean.useDiagnosticMsg","line":47,"kind":"def","docLink":"./Lean/CoreM.html#Lean.useDiagnosticMsg","doc":"If the `diagnostics` option is not already set, gives a message explaining this option.\nBegins with a `\\n\\n`, so an error message can look like `m!\"some error occurred{useDiagnosticMsg}\"`.\nThe double newline gives better visual separation from the main error message\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.useDiagnosticMsg\"><span class=\"name\">Lean</span>.<span class=\"name\">useDiagnosticMsg</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Message.html#Lean.MessageData\">MessageData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L34-L45","name":"Lean.Elab.async","line":34,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.Elab.async","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.Elab.async\"><span class=\"name\">Lean</span>.<span class=\"name\">Elab</span>.<span class=\"name\">async</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L29-L32","name":"Lean.maxHeartbeats","line":29,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.maxHeartbeats","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.maxHeartbeats\"><span class=\"name\">Lean</span>.<span class=\"name\">maxHeartbeats</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Nat\">Nat</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L23-L27","name":"Lean.diagnostics.threshold","line":23,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.diagnostics.threshold","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.diagnostics.threshold\"><span class=\"name\">Lean</span>.<span class=\"name\">diagnostics</span>.<span class=\"name\">threshold</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Nat\">Nat</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/Lean/CoreM.lean#L17-L21","name":"Lean.diagnostics","line":17,"kind":"opaque","docLink":"./Lean/CoreM.html#Lean.diagnostics","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/CoreM.html#Lean.diagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">diagnostics</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"}]}