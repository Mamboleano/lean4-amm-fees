{"name":"Lake.Build.Run","instances":[],"imports":["Lake.Util.Lock","Lake.Build.Index"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L244-L248","name":"Lake.runBuild","line":244,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.runBuild","doc":"Produce a build job in the Lake monad's workspace and await the result. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.runBuild\"><span class=\"name\">Lake</span>.<span class=\"name\">runBuild</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">build</span> : <span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">α</span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cfg</span> : <a href=\"./Lake/Build/Context.html#Lake.BuildConfig\">BuildConfig</a> :=\n  <span class=\"fn\">{ <span class=\"fn\">oldMode</span> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>, <span class=\"fn\">trustHash</span> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>, <span class=\"fn\">noBuild</span> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>, <span class=\"fn\">verbosity</span> := <a href=\"./Lake/Util/Log.html#Lake.Verbosity.normal\">Verbosity.normal</a>, <span class=\"fn\">failLv</span> := <a href=\"./Lake/Util/Log.html#Lake.LogLevel.error\">LogLevel.error</a>,\n    <span class=\"fn\">outLv</span> := <span class=\"fn\"><a href=\"./Lake/Util/Log.html#Lake.Verbosity.normal\">Verbosity.normal</a>.<a href=\"./Lake/Util/Log.html#Lake.Verbosity.minLogLv\">minLogLv</a></span>, <span class=\"fn\">out</span> := <a href=\"./Lake/Util/Log.html#Lake.OutStream.stderr\">OutStream.stderr</a>, <span class=\"fn\">ansiMode</span> := <a href=\"./Lake/Util/Log.html#Lake.AnsiMode.auto\">AnsiMode.auto</a> }</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/Context.html#Lake.LakeT\">LakeT</a> <a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L236-L242","name":"Lake.Workspace.runBuild","line":236,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Workspace.runBuild","doc":"Run a build function in the Workspace's context and await the result. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Workspace.runBuild\"><span class=\"name\">Lake</span>.<span class=\"name\">Workspace</span>.<span class=\"name\">runBuild</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ws</span> : <a href=\"./Lake/Config/Workspace.html#Lake.Workspace\">Workspace</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">build</span> : <span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">α</span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cfg</span> : <a href=\"./Lake/Build/Context.html#Lake.BuildConfig\">BuildConfig</a> :=\n  <span class=\"fn\">{ <span class=\"fn\">oldMode</span> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>, <span class=\"fn\">trustHash</span> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>, <span class=\"fn\">noBuild</span> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>, <span class=\"fn\">verbosity</span> := <a href=\"./Lake/Util/Log.html#Lake.Verbosity.normal\">Verbosity.normal</a>, <span class=\"fn\">failLv</span> := <a href=\"./Lake/Util/Log.html#Lake.LogLevel.error\">LogLevel.error</a>,\n    <span class=\"fn\">outLv</span> := <span class=\"fn\"><a href=\"./Lake/Util/Log.html#Lake.Verbosity.normal\">Verbosity.normal</a>.<a href=\"./Lake/Util/Log.html#Lake.Verbosity.minLogLv\">minLogLv</a></span>, <span class=\"fn\">out</span> := <a href=\"./Lake/Util/Log.html#Lake.OutStream.stderr\">OutStream.stderr</a>, <span class=\"fn\">ansiMode</span> := <a href=\"./Lake/Util/Log.html#Lake.AnsiMode.auto\">AnsiMode.auto</a> }</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L201-L234","name":"Lake.Workspace.runFetchM","line":201,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Workspace.runFetchM","doc":"Run a build function in the Workspace's context using the provided configuration.\nReports incremental build progress and build logs. In quiet mode, only reports\nfailing build jobs (e.g., when using `-q` or non-verbose `--no-build`).\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Workspace.runFetchM\"><span class=\"name\">Lake</span>.<span class=\"name\">Workspace</span>.<span class=\"name\">runFetchM</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ws</span> : <a href=\"./Lake/Config/Workspace.html#Lake.Workspace\">Workspace</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">build</span> : <span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cfg</span> : <a href=\"./Lake/Build/Context.html#Lake.BuildConfig\">BuildConfig</a> :=\n  <span class=\"fn\">{ <span class=\"fn\">oldMode</span> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>, <span class=\"fn\">trustHash</span> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>, <span class=\"fn\">noBuild</span> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>, <span class=\"fn\">verbosity</span> := <a href=\"./Lake/Util/Log.html#Lake.Verbosity.normal\">Verbosity.normal</a>, <span class=\"fn\">failLv</span> := <a href=\"./Lake/Util/Log.html#Lake.LogLevel.error\">LogLevel.error</a>,\n    <span class=\"fn\">outLv</span> := <span class=\"fn\"><a href=\"./Lake/Util/Log.html#Lake.Verbosity.normal\">Verbosity.normal</a>.<a href=\"./Lake/Util/Log.html#Lake.Verbosity.minLogLv\">minLogLv</a></span>, <span class=\"fn\">out</span> := <a href=\"./Lake/Util/Log.html#Lake.OutStream.stderr\">OutStream.stderr</a>, <span class=\"fn\">ansiMode</span> := <a href=\"./Lake/Util/Log.html#Lake.AnsiMode.auto\">AnsiMode.auto</a> }</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L177-L199","name":"Lake.monitorJobs","line":177,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.monitorJobs","doc":"The job monitor function. An auxiliary definition for `runFetchM`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.monitorJobs\"><span class=\"name\">Lake</span>.<span class=\"name\">monitorJobs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">initJobs</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">jobs</span> : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">out</span> : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">failLv </span><span class=\"fn\">outLv</span> : <a href=\"./Lake/Util/Log.html#Lake.LogLevel\">LogLevel</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">minAction</span> : <a href=\"./Lake/Build/Job/Basic.html#Lake.JobAction\">JobAction</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">showOptional </span><span class=\"fn\">useAnsi </span><span class=\"fn\">showProgress</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">resetCtrl</span> : <a href=\"./Init/Prelude.html#String\">String</a> := <span class=\"fn\">&quot;&quot;</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">initFailures</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#String\">String</a></span> := <a href=\"./Init/Prelude.html#List.toArray\">#[</a><a href=\"./Init/Prelude.html#List.toArray\">]</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">updateFrequency</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a> := <span class=\"fn\">100</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#String\">String</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L168-L173","name":"Lake.Monitor.main","line":168,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Monitor.main","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.main\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">main</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">init</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L161-L166","name":"Lake.Monitor.loop","line":161,"kind":"opaque","docLink":"./Lake/Build/Run.html#Lake.Monitor.loop","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.loop\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">loop</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">unfinished</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L152-L159","name":"Lake.Monitor.sleep","line":152,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Monitor.sleep","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.sleep\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">sleep</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L136-L150","name":"Lake.Monitor.poll","line":136,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Monitor.poll","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.poll\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">poll</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">unfinished</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a></span> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L105-L134","name":"Lake.Monitor.reportJob","line":105,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Monitor.reportJob","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.reportJob\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">reportJob</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">job</span> : <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L87-L103","name":"Lake.Monitor.renderProgress","line":87,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Monitor.renderProgress","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.renderProgress\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">renderProgress</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">running </span><span class=\"fn\">unfinished</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\">0</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\">unfinished</span>.<a href=\"./Init/Prelude.html#Array.size\">size</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L84-L85","name":"Lake.Monitor.flush","line":84,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Monitor.flush","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.flush\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">flush</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L81-L82","name":"Lake.Monitor.print","line":81,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Monitor.print","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.print\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">print</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L74-L77","name":"Lake.print!","line":74,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.print!","doc":"Like `IO.FS.Stream.putStr`, but panics on errors. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.print!\"><span class=\"name\">Lake</span>.<span class=\"name\">print!</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">out</span> : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L70-L72","name":"Lake.flush","line":70,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.flush","doc":"Like `IO.FS.Stream.flush`, but ignores errors. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.flush\"><span class=\"name\">Lake</span>.<span class=\"name\">flush</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">out</span> : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L63-L68","name":"Lake.Ansi.resetLine","line":63,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Ansi.resetLine","doc":"The ANSI escape sequence for clearing the current line\nand resetting the cursor back to the start.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Ansi.resetLine\"><span class=\"name\">Lake</span>.<span class=\"name\">Ansi</span>.<span class=\"name\">resetLine</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#String\">String</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L58-L61","name":"Lake.MonitorM.run","line":58,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorM.run","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorM.run\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorM</span>.<span class=\"name\">run</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ctx</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.MonitorM\">MonitorM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> (<span class=\"fn\">α</span> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L55-L56","name":"Lake.MonitorM","line":55,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorM","doc":"Monad of the Lake build monitor. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorM\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L53-L53","name":"Lake.MonitorState.spinnerIdx","line":53,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorState.spinnerIdx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorState.spinnerIdx\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorState</span>.<span class=\"name\">spinnerIdx</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Fin\">Fin</a> <span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.Monitor.spinnerFrames\">Monitor.spinnerFrames</a>.<a href=\"./Init/Prelude.html#Array.size\">size</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L52-L52","name":"Lake.MonitorState.lastUpdate","line":52,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorState.lastUpdate","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorState.lastUpdate\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorState</span>.<span class=\"name\">lastUpdate</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L51-L51","name":"Lake.MonitorState.resetCtrl","line":51,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorState.resetCtrl","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorState.resetCtrl\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorState</span>.<span class=\"name\">resetCtrl</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#String\">String</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L50-L50","name":"Lake.MonitorState.failures","line":50,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorState.failures","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorState.failures\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorState</span>.<span class=\"name\">failures</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#String\">String</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L49-L49","name":"Lake.MonitorState.totalJobs","line":49,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorState.totalJobs","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorState.totalJobs\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorState</span>.<span class=\"name\">totalJobs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L48-L48","name":"Lake.MonitorState.jobNo","line":48,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorState.jobNo","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorState.jobNo\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorState</span>.<span class=\"name\">jobNo</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L47-L47","name":"Lake.MonitorState.mk","line":47,"kind":"ctor","docLink":"./Lake/Build/Run.html#Lake.MonitorState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorState.mk\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">jobNo </span><span class=\"fn\">totalJobs</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">failures</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#String\">String</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">resetCtrl</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lastUpdate</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">spinnerIdx</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Fin\">Fin</a> <span class=\"fn\"><a href=\"./Lake/Build/Run.html#Lake.Monitor.spinnerFrames\">Monitor.spinnerFrames</a>.<a href=\"./Init/Prelude.html#Array.size\">size</a></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lake/Build/Run.html#Lake.MonitorState\">MonitorState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L46-L53","name":"Lake.MonitorState","line":46,"kind":"structure","docLink":"./Lake/Build/Run.html#Lake.MonitorState","doc":"State of the Lake build monitor. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorState\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L44-L44","name":"Lake.MonitorContext.updateFrequency","line":44,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.updateFrequency","doc":"How often to poll jobs (in milliseconds). "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.updateFrequency\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">updateFrequency</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L42-L42","name":"Lake.MonitorContext.showProgress","line":42,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.showProgress","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.showProgress\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">showProgress</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L41-L41","name":"Lake.MonitorContext.useAnsi","line":41,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.useAnsi","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.useAnsi\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">useAnsi</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L40-L40","name":"Lake.MonitorContext.showOptional","line":40,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.showOptional","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.showOptional\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">showOptional</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L39-L39","name":"Lake.MonitorContext.minAction","line":39,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.minAction","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.minAction\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">minAction</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lake/Build/Job/Basic.html#Lake.JobAction\">JobAction</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L38-L38","name":"Lake.MonitorContext.failLv","line":38,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.failLv","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.failLv\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">failLv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lake/Util/Log.html#Lake.LogLevel\">LogLevel</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L37-L37","name":"Lake.MonitorContext.outLv","line":37,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.outLv","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.outLv\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">outLv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lake/Util/Log.html#Lake.LogLevel\">LogLevel</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L36-L36","name":"Lake.MonitorContext.out","line":36,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.out","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.out\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">out</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L35-L35","name":"Lake.MonitorContext.jobs","line":35,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.jobs","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.jobs\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">jobs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L34-L34","name":"Lake.MonitorContext.mk","line":34,"kind":"ctor","docLink":"./Lake/Build/Run.html#Lake.MonitorContext.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext.mk\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">jobs</span> : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Build/Job/Basic.html#Lake.OpaqueJob\">OpaqueJob</a>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">out</span> : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">outLv </span><span class=\"fn\">failLv</span> : <a href=\"./Lake/Util/Log.html#Lake.LogLevel\">LogLevel</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">minAction</span> : <a href=\"./Lake/Build/Job/Basic.html#Lake.JobAction\">JobAction</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">showOptional </span><span class=\"fn\">useAnsi </span><span class=\"fn\">showProgress</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">updateFrequency</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lake/Build/Run.html#Lake.MonitorContext\">MonitorContext</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L33-L44","name":"Lake.MonitorContext","line":33,"kind":"structure","docLink":"./Lake/Build/Run.html#Lake.MonitorContext","doc":"Context of the Lake build monitor. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.MonitorContext\"><span class=\"name\">Lake</span>.<span class=\"name\">MonitorContext</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L29-L31","name":"Lake.Monitor.spinnerFrames","line":29,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.Monitor.spinnerFrames","doc":"Unicode icons that make up the spinner in animation order. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.Monitor.spinnerFrames\"><span class=\"name\">Lake</span>.<span class=\"name\">Monitor</span>.<span class=\"name\">spinnerFrames</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Char\">Char</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/11ccbced796476be020459a83c599b301a765d3e/src/lake/Lake/Build/Run.lean#L20-L27","name":"Lake.mkBuildContext","line":20,"kind":"def","docLink":"./Lake/Build/Run.html#Lake.mkBuildContext","doc":"Create a fresh build context from a workspace and a build configuration. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Run.html#Lake.mkBuildContext\"><span class=\"name\">Lake</span>.<span class=\"name\">mkBuildContext</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ws</span> : <a href=\"./Lake/Config/Workspace.html#Lake.Workspace\">Workspace</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">config</span> : <a href=\"./Lake/Build/Context.html#Lake.BuildConfig\">BuildConfig</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Lake/Build/Context.html#Lake.BuildContext\">BuildContext</a></span></div></div>"}]}