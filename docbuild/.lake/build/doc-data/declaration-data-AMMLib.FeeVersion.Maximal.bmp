{"name":"AMMLib.FeeVersion.Maximal","instances":[],"imports":["Init","AMMLib.FeeVersion.Basic","AMMLib.FeeVersion.Additivity","AMMLib.FeeVersion.Constprod","AMMLib.FeeVersion.Arbitrage","HelpersLib.Real.Division","HelpersLib.Real.Multiplication","HelpersLib.Real.Order","HelpersLib.Real.Subtraction","HelpersLib.PReal.Basic","HelpersLib.PReal.Division","HelpersLib.PReal.Negative","HelpersLib.PReal.Order","HelpersLib.PReal.Sqrt"],"declarations":[{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Maximal.lean#L347-L379","name":"SX.fee.constprod.x_max_gain","line":347,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max_gain","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max_gain\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">x_max_gain</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\">sw_to_equil</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw_max</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max\">x_max</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span> <span class=\"fn\">h_equil</span> <span class=\"fn\">hφ</span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw2</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">x</span> <a href=\"./Init/Core.html#Ne\">≠</a> <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max\">x_max</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span> <span class=\"fn\">h_equil</span> <span class=\"fn\">hφ</span></span> → <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.get\">get</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">0</span> → <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw2</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw_max</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Maximal.lean#L183-L344","name":"SX.fee.constprod.x_max_gain_gt_x_gt_equil","line":183,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max_gain_gt_x_gt_equil","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max_gain_gt_x_gt_equil\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">x_max_gain_gt_x_gt_equil</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀ </span><span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw2</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\">sw_to_equil</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw_max</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max\">x_max</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span> <span class=\"fn\">h_equil</span> <span class=\"fn\">hφ</span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x_gt_x₀</span> : <span class=\"fn\">x</span> <a href=\"./Init/Prelude.html#GT.gt\">&gt;</a> <span class=\"fn\">x₀</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x_diff_x_max</span> : <span class=\"fn\">x</span> <a href=\"./Init/Core.html#Ne\">≠</a> <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max\">x_max</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span> <span class=\"fn\">h_equil</span> <span class=\"fn\">hφ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">no_mints</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.get\">get</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw2</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw_max</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Maximal.lean#L152-L180","name":"SX.fee.constprod.gain_xmax_gt_x₀","line":152,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.gain_xmax_gt_x₀","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.gain_xmax_gt_x₀\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">gain_xmax_gt_x₀</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\">sw_to_equil</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw_max</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max\">x_max</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span> <span class=\"fn\">h_equil</span> <span class=\"fn\">hφ</span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">no_mints</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.mints\">mints</a></span>.<a href=\"./AMMLib/State/MintedWallSet.html#S₁.get\">get</a></span> <span class=\"fn\">a</span>)</span>.<a href=\"./AMMLib/State/MintedWall.html#W₁.get\">get</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw0</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./AMMLib/State/Networth.html#A.gain\">gain</a></span> <span class=\"fn\">o</span> <span class=\"fn\">s</span> <span class=\"fn\"><span class=\"fn\">sw_max</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Maximal.lean#L93-L150","name":"SX.fee.constprod.x_max_lt_x₀_div_φ","line":93,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max_lt_x₀_div_φ","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max_lt_x₀_div_φ\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">x_max_lt_x₀_div_φ</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\">sw_to_equil</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max\">x_max</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span> <span class=\"fn\">h_equil</span> <span class=\"fn\">hφ</span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">x₀</span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> <span class=\"fn\">φ</span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Maximal.lean#L66-L91","name":"SX.fee.constprod.x_max'_eq_cond","line":66,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max'_eq_cond","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max'_eq_cond\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">x_max'_eq_cond</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\">sw_to_equil</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Mathlib/Data/Real/Sqrt.html#Real.sqrt\">√</a><span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\">o</span> <span class=\"fn\">t0</span>)</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> (<span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">↑<span class=\"fn\">φ</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">x₀</span></span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">↑<span class=\"fn\">φ</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max'\">x_max'</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span> <span class=\"fn\">h_equil</span> <span class=\"fn\">hφ</span>)</span></span>) <a href=\"./Init/Prelude.html#Eq\">=</a>   <a href=\"./Mathlib/Data/Real/Sqrt.html#Real.sqrt\">√</a>(<span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\">o</span> <span class=\"fn\">t1</span>)</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">φ</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span>)</div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Maximal.lean#L62-L63","name":"SX.fee.constprod.x_max","line":62,"kind":"def","docLink":"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">noncomputable def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">x_max</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\">sw_to_equil</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Maximal.lean#L57-L60","name":"SX.fee.constprod.x_max'","line":57,"kind":"def","docLink":"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max'","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">noncomputable def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max'\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">x_max'</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\">sw_to_equil</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Maximal.lean#L17-L55","name":"SX.fee.constprod.x_max_pos_cond","line":17,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max_pos_cond","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Maximal.html#SX.fee.constprod.x_max_pos_cond\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">x_max_pos_cond</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\">sw_to_equil</a> <span class=\"fn\">φ</span> <span class=\"fn\">sw0</span> <span class=\"fn\">o</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">(<span class=\"fn\">o</span> <span class=\"fn\">t0</span>)</span>.<a href=\"./HelpersLib/PReal/Sqrt.html#PReal.sqrt\">sqrt</a></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> (<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">x₀</span>) <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span>).<a href=\"./HelpersLib/PReal/Sqrt.html#PReal.sqrt\">sqrt</a></span></div></div>"}]}