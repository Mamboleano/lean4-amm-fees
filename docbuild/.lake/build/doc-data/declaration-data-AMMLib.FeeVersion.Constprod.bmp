{"name":"AMMLib.FeeVersion.Constprod","instances":[],"imports":["Init","AMMLib.FeeVersion.Basic","AMMLib.FeeVersion.Additivity","HelpersLib.Real.Division","HelpersLib.Real.Order","HelpersLib.Real.Subtraction","HelpersLib.PReal.Division","HelpersLib.PReal.Multiplication"],"declarations":[{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L426-L444","name":"SX.fee.constprod.additive_int_rate_vs_ext_rate","line":426,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.additive_int_rate_vs_ext_rate","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.additive_int_rate_vs_ext_rate\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">additive_int_rate_vs_ext_rate</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀ </span><span class=\"fn\">x₁ </span><span class=\"fn\">x₂</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw1</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₁</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw2</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\"><span class=\"fn\">sw1</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₂</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_equil</span> : <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\">int_rate</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw0</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw0</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t0</span></span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> <span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t1</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_split</span> : <span class=\"fn\">x₀</span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">x₁</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">x₂</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t0</span></span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> <span class=\"fn\"><span class=\"fn\">o</span> <span class=\"fn\">t1</span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\">int_rate</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw2</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw2</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L386-L422","name":"SX.fee.constprod.int_rate_lt_split","line":386,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_lt_split","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_lt_split\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">int_rate_lt_split</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀ </span><span class=\"fn\">x₁ </span><span class=\"fn\">x₂</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw1</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₁</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw2</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\"><span class=\"fn\">sw1</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₂</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_split</span> : <span class=\"fn\">x₀</span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">x₁</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">x₂</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\">int_rate</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw2</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw2</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#GT.gt\">&gt;</a>   <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\">int_rate</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw0</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw0</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L316-L384","name":"SX.fee.constprod.r1_lt_split_after_swap","line":316,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.r1_lt_split_after_swap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.r1_lt_split_after_swap\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">r1_lt_split_after_swap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀ </span><span class=\"fn\">x₁ </span><span class=\"fn\">x₂</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw1</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₁</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw2</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\"><span class=\"fn\">sw1</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₂</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_split</span> : <span class=\"fn\">x₀</span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">x₁</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">x₂</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw0</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw2</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L302-L314","name":"SX.fee.constprod.sx_rate_vs_int_rate","line":302,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sx_rate_vs_int_rate","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sx_rate_vs_int_rate\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">sx_rate_vs_int_rate</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LE.le\">≤</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span> <span class=\"fn\">x</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#GT.gt\">&gt;</a>     <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\">int_rate</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#And\">∧</a>   <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span> <span class=\"fn\">x</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\">int_rate</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L264-L300","name":"SX.fee.constprod.sx_rate_gt_int_rate_post_swap","line":264,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sx_rate_gt_int_rate_post_swap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sx_rate_gt_int_rate_post_swap\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">sx_rate_gt_int_rate_post_swap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hφ</span> : <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#LE.le\">≤</a> <span class=\"fn\">1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.rate\">rate</a></span> <a href=\"./Init/Prelude.html#GT.gt\">&gt;</a> <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\">int_rate</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L257-L262","name":"SX.fee.constprod.int_rate_gt_sx_rate_pre_swap","line":257,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_gt_sx_rate_pre_swap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_gt_sx_rate_pre_swap\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">int_rate_gt_sx_rate_pre_swap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">sw</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.rate\">rate</a></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\">int_rate</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span> <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L232-L255","name":"SX.fee.constprod.int_rate_is_strictmono","line":232,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_is_strictmono","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_is_strictmono\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">int_rate_is_strictmono</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_strictmono\">int_rate_strictmono</a> <span class=\"fn\">φ</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L224-L230","name":"SX.fee.constprod.int_rate_strictmono","line":224,"kind":"def","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_strictmono","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate_strictmono\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">int_rate_strictmono</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Prop</a></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L219-L221","name":"SX.fee.constprod.sw_to_equil","line":219,"kind":"def","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">noncomputable def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.sw_to_equil\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">sw_to_equil</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./AMMLib/State/State.html#O\">O</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Prop</a></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L216-L217","name":"SX.fee.constprod.int_rate","line":216,"kind":"def","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">noncomputable def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.int_rate\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">int_rate</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ </span><span class=\"fn\">r0 </span><span class=\"fn\">r1</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L160-L214","name":"SX.fee.constprod.extended_additivity","line":160,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.extended_additivity","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.extended_additivity\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">extended_additivity</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Additivity.html#SX.fee.extended_additivity\">fee.extended_additivity</a> <span class=\"fn\">φ</span> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L144-L157","name":"SX.fee.constprod.beta_simp_rate","line":144,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.beta_simp_rate","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.beta_simp_rate\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">beta_simp_rate</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀ </span><span class=\"fn\">x₁</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw1</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\"><span class=\"fn\">sw0</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.apply\">apply</a></span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₁</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">x₁</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><span class=\"fn\">sw1</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.rate\">rate</a></span> <a href=\"./Init/Prelude.html#Eq\">=</a>   <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">x₁</span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> ((<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">x₀</span>) <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> (<span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span></span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">x₀</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">x₁</span>))</div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L131-L142","name":"SX.fee.constprod.beta_simp","line":131,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.beta_simp","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.beta_simp\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">beta_simp</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ </span><span class=\"fn\">x </span><span class=\"fn\">y </span><span class=\"fn\">r0 </span><span class=\"fn\">r1</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\">x</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span> <span class=\"fn\">x</span> <span class=\"fn\">r0</span> <span class=\"fn\">r1</span></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">r1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span> <span class=\"fn\">y</span> (<span class=\"fn\">r0</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">x</span>) <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\">r1</span>.<a href=\"./HelpersLib/PReal/Subtraction.html#PReal.sub\">sub</a></span> (<span class=\"fn\">x</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span> <span class=\"fn\">x</span> <span class=\"fn\">r0</span> <span class=\"fn\">r1</span></span>) <span class=\"fn\">h</span>)</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">r1</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">r0</span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> ((<span class=\"fn\">r0</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">x</span>) <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> (<span class=\"fn\">r0</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">x</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">y</span>))</div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L116-L127","name":"SX.fee.constprod.rate_toReal","line":116,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.rate_toReal","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.rate_toReal\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">rate_toReal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">x₀</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sw0</span> : <span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x₀</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">↑<span class=\"fn\"><span class=\"fn\">sw0</span>.<a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap.rate\">rate</a></span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">↑<span class=\"fn\">φ</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r1\">r1</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> (<span class=\"fn\">↑<span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.r0\">r0</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">⋯</span>)</span></span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">↑<span class=\"fn\">φ</span></span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">↑<span class=\"fn\">x₀</span></span>)</div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L95-L114","name":"SX.fee.φ_r1_sub_α_x_simp","line":95,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.φ_r1_sub_α_x_simp","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.φ_r1_sub_α_x_simp\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">φ_r1_sub_α_x_simp</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ </span><span class=\"fn\">x </span><span class=\"fn\">r0 </span><span class=\"fn\">r1</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <span class=\"fn\">x</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> (<span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">r1</span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> (<span class=\"fn\">r0</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">x</span>)) <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\">r1</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">r1</span>.<a href=\"./HelpersLib/PReal/Subtraction.html#PReal.sub\">sub</a></span> (<span class=\"fn\">x</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> (<span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">r1</span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> (<span class=\"fn\">r0</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">x</span>))) <span class=\"fn\">h</span></span> <a href=\"./Init/Prelude.html#Eq\">=</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">r0</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">r1</span> <a href=\"./Init/Prelude.html#HDiv.hDiv\">/</a> (<span class=\"fn\">r0</span> <a href=\"./Init/Prelude.html#HAdd.hAdd\">+</a> <span class=\"fn\">φ</span> <a href=\"./Init/Prelude.html#HMul.hMul\">*</a> <span class=\"fn\">x</span>)</div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L84-L93","name":"Swap.constprod.mkSwap","line":84,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#Swap.constprod.mkSwap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#Swap.constprod.mkSwap\"><span class=\"name\">Swap</span>.<span class=\"name\">constprod</span>.<span class=\"name\">mkSwap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./AMMLib/State/State.html#Γ\">Γ</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a</span> : <a href=\"./AMMLib/State/Tokens.html#A\">A</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">t0 </span><span class=\"fn\">t1</span> : <a href=\"./AMMLib/State/Tokens.html#T\">T</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_init</span> : <span class=\"fn\"><span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.amms\">amms</a></span>.<a href=\"./AMMLib/State/AMMs.html#AMMs.init\">init</a></span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h_enoguh</span> : <span class=\"fn\">↑<span class=\"fn\">x</span></span> <a href=\"./Init/Prelude.html#LE.le\">≤</a> <span class=\"fn\"><span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><span class=\"fn\">s</span>.<a href=\"./AMMLib/State/State.html#Γ.atoms\">atoms</a></span>.<a href=\"./AMMLib/State/AtomicWallSet.html#S₀.get\">get</a></span> <span class=\"fn\">a</span>)</span> <span class=\"fn\">t0</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./AMMLib/Transaction/Swap/Basic.html#Swap\">Swap</a> <span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">SX.fee.constprod</a> <span class=\"fn\">φ</span>)</span> <span class=\"fn\">s</span> <span class=\"fn\">a</span> <span class=\"fn\">t0</span> <span class=\"fn\">t1</span> <span class=\"fn\">x</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L44-L82","name":"SX.fee.constprod.strictmono","line":44,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.strictmono","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.strictmono\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">strictmono</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span>.<a href=\"./AMMLib/Transaction/Swap/Rate.html#SX.strictmono\">strictmono</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L31-L41","name":"SX.fee.constprod.homogeneous","line":31,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.homogeneous","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.homogeneous\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">homogeneous</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span>.<a href=\"./AMMLib/Transaction/Swap/Rate.html#SX.homogeneous\">homogeneous</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L14-L28","name":"SX.fee.constprod.outputbound","line":14,"kind":"theorem","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.outputbound","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">theorem</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod.outputbound\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span>.<span class=\"name\">outputbound</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">(<a href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\">constprod</a> <span class=\"fn\">φ</span>)</span>.<a href=\"./AMMLib/Transaction/Swap/Rate.html#SX.outputbound\">outputbound</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/Mamboleano/lean4-amm-fees/blob/8901a0b5262ba1550dbf9a95b3a71130f374fcfc/AMMLib/FeeVersion/Constprod.lean#L11-L12","name":"SX.fee.constprod","line":11,"kind":"def","docLink":"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">noncomputable def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./AMMLib/FeeVersion/Constprod.html#SX.fee.constprod\"><span class=\"name\">SX</span>.<span class=\"name\">fee</span>.<span class=\"name\">constprod</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">φ</span> : <a href=\"./HelpersLib/PReal/Basic.html#PReal\">ℝ&gt;0</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./AMMLib/Transaction/Swap/Rate.html#SX\">SX</a></div></div>"}]}